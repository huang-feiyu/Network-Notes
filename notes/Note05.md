# Chapter 5: 链路层

[TOC]

### 概述

数据链路层：网络层数据报通过路径中的单段链路、一个节点向相邻节点传输

* 节点：主机 或 路由
* 链路：通信路径中连接相邻节点的通信信道

每个链路层协议提供不同的服务：

* 成帧，链路接入
* 相邻节点的可靠交付
* 流量控制

链路层在每一台主机、路由的 网络适配器 与 主机系统总线连接，由硬件和软件组成

### 检错和纠错

* 奇偶校验
* 校验和
* 循环冗余检测（CRC）

### 链路层寻址

32 位 IP 地址：网络层地址，用于数据报寻址、IP 子网（层次地址结构，可改变）

48 位 MAC 地址：在同一个子网，从一个接口卡传送帧到另一个接口卡（扁平地址结构，一般不可改变）

地址解析协议（ARP）：IP 地址 -> MAC 地址

* LAN 上每一个 IP 节点都有一个 ARP 表

### 以太网

Ethernet：完全占有有限局域网市场

帧结构：发送数据的网卡在 Ethernet 帧中封装 IP 数据报

* 前同步码
* 地址
* 类型
* CRC

以太网：不可靠、无连接服务，基带传输

### 链路层交换机

交换机 Switch

* 链路层设备
  * 缓冲一个数据报
  * 维护交换表，实施过滤、学习算法
* 透明性
* 即插即用、自学习
